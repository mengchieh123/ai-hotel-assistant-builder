<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¯ Speckit è‡ªå‹•é–‹ç™¼æ¼”ç¤º - ç”¢å“ç¶“ç†ç•Œé¢</title>
    <style>
        :root {
            --primary: #3498db;
            --success: #2ecc71;
            --warning: #f39c12;
            --danger: #e74c3c;
            --dark: #2c3e50;
            --light: #ecf0f1;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .header h1 {
            color: var(--dark);
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .header p {
            color: #7f8c8d;
            font-size: 1.2em;
            margin-bottom: 20px;
        }
        
        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .status-card {
            background: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            border-left: 4px solid var(--primary);
        }
        
        .status-card.success {
            border-left-color: var(--success);
        }
        
        .status-card.warning {
            border-left-color: var(--warning);
        }
        
        .status-card.danger {
            border-left-color: var(--danger);
        }
        
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .card h3 {
            color: var(--dark);
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 3px solid var(--primary);
            font-size: 1.4em;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .feature-grid {
            display: grid;
            gap: 15px;
        }
        
        .feature-item {
            background: var(--light);
            padding: 15px;
            border-radius: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }
        
        .feature-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.4);
        }
        
        .btn-success {
            background: var(--success);
        }
        
        .btn-warning {
            background: var(--warning);
        }
        
        .btn-danger {
            background: var(--danger);
        }
        
        .test-result {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
            margin-top: 15px;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            max-height: 300px;
            overflow-y: auto;
            display: none;
        }
        
        .log-container {
            background: #1e1e1e;
            color: #00ff00;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            max-height: 400px;
            overflow-y: auto;
            margin-top: 20px;
        }
        
        .api-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
            animation: pulse 2s infinite;
        }
        
        .api-online {
            background: var(--success);
        }
        
        .api-offline {
            background: var(--danger);
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        
        .spec-editor {
            width: 100%;
            height: 200px;
            font-family: 'Courier New', monospace;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            resize: vertical;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸš€ Speckit è‡ªå‹•é–‹ç™¼å¹³å°</h1>
            <p>ç”¢å“ç¶“ç†å³æ™‚æ¼”ç¤ºç•Œé¢ - æ‰€è¦‹å³æ‰€å¾—é–‹ç™¼é«”é©—</p>
            
            <div class="status-grid">
                <div class="status-card success">
                    <h4>ğŸŸ¢ ç³»çµ±ç‹€æ…‹</h4>
                    <p id="systemStatus">é‹è¡Œä¸­</p>
                </div>
                <div class="status-card">
                    <h4>ğŸ“Š ç”Ÿæˆæ–‡ä»¶</h4>
                    <p id="fileCount">3 å€‹æ–‡ä»¶</p>
                </div>
                <div class="status-card">
                    <h4>âš¡ æœ€å¾Œæ›´æ–°</h4>
                    <p id="lastUpdate">å‰›å‰›</p>
                </div>
                <div class="status-card">
                    <h4>ğŸŒ ç’°å¢ƒ</h4>
                    <p id="environment">ç”Ÿç”¢ç’°å¢ƒ</p>
                </div>
            </div>
        </div>

        <div class="dashboard">
            <!-- ç³»çµ±ç›£æ§ -->
            <div class="card">
                <h3>ğŸ“Š å¯¦æ™‚ç³»çµ±ç›£æ§</h3>
                <div class="feature-grid">
                    <div class="feature-item">
                        <span>API æœå‹™ç‹€æ…‹</span>
                        <span id="apiStatus"><span class="api-indicator api-online"></span>åœ¨ç·š</span>
                    </div>
                    <div class="feature-item">
                        <span>æ•¸æ“šåº«é€£æ¥</span>
                        <span style="color: var(--success)">âœ… æ­£å¸¸</span>
                    </div>
                    <div class="feature-item">
                        <span>ä»£ç¢¼ç”Ÿæˆå™¨</span>
                        <span style="color: var(--success)">âœ… å°±ç·’</span>
                    </div>
                    <button class="btn" onclick="runFullSystemCheck()">
                        ğŸ”„ å…¨é¢ç³»çµ±æª¢æŸ¥
                    </button>
                </div>
                <div id="systemResult" class="test-result"></div>
            </div>

            <!-- æ¥­å‹™åŠŸèƒ½æ¸¬è©¦ -->
            <div class="card">
                <h3>ğŸ¯ æ¥­å‹™åŠŸèƒ½æ¸¬è©¦</h3>
                <div class="feature-grid">
                    <div class="feature-item">
                        <span>æœƒå“¡è¨»å†Šæµç¨‹</span>
                        <button class="btn btn-success" onclick="testMembershipRegistration()">
                            ğŸ§ª æ¸¬è©¦
                        </button>
                    </div>
                    <div class="feature-item">
                        <span>ä¿ƒéŠ·æ´»å‹•æ‡‰ç”¨</span>
                        <button class="btn btn-success" onclick="testPromotionApplication()">
                            ğŸ§ª æ¸¬è©¦
                        </button>
                    </div>
                    <div class="feature-item">
                        <span>åƒ¹æ ¼è¨ˆç®—å¼•æ“</span>
                        <button class="btn btn-success" onclick="testPricingEngine()">
                            ğŸ§ª æ¸¬è©¦
                        </button>
                    </div>
                    <div class="feature-item">
                        <span>ç©åˆ†ç³»çµ±</span>
                        <button class="btn btn-success" onclick="testPointsSystem()">
                            ğŸ§ª æ¸¬è©¦
                        </button>
                    </div>
                </div>
                <div id="businessResult" class="test-result"></div>
            </div>

            <!-- Speckit è‡ªå‹•ç”Ÿæˆ -->
            <div class="card">
                <h3>âš¡ Speckit è‡ªå‹•é–‹ç™¼</h3>
                <div class="feature-grid">
                    <div class="feature-item">
                        <span>ç•¶å‰è¦æ ¼ç‰ˆæœ¬</span>
                        <span style="color: var(--primary)">v2.0.0</span>
                    </div>
                    <textarea class="spec-editor" id="specEditor" placeholder="åœ¨æ­¤ç·¨è¼¯æ¥­å‹™è¦æ ¼...">version: "2.0"
features:
  - membership_system
  - promotion_system
  - pricing_engine</textarea>
                    <button class="btn btn-warning" onclick="generateFromSpec()">
                        ğŸ”¥ ç”Ÿæˆæ–°ä»£ç¢¼
                    </button>
                    <button class="btn btn-danger" onclick="deployToProduction()">
                        ğŸš€ ç«‹å³éƒ¨ç½²
                    </button>
                </div>
                <div id="generationResult" class="test-result"></div>
            </div>

            <!-- æ¼”ç¤ºå’Œå ±å‘Š -->
            <div class="card">
                <h3>ğŸ“ˆ æ¼”ç¤ºå’Œå ±å‘Š</h3>
                <div class="feature-grid">
                    <button class="btn" onclick="generateDemoReport()">
                        ğŸ“Š ç”Ÿæˆæ¼”ç¤ºå ±å‘Š
                    </button>
                    <button class="btn" onclick="showFeatureComparison()">
                        ğŸ”„ åŠŸèƒ½å°æ¯”
                    </button>
                    <button class="btn" onclick="exportTestResults()">
                        ğŸ’¾ å°å‡ºæ¸¬è©¦çµæœ
                    </button>
                </div>
                <div class="log-container" id="demoLogs">
                    Speckit è‡ªå‹•é–‹ç™¼å¹³å°æ—¥èªŒ
                    ========================
                    ç³»çµ±å•Ÿå‹•å®Œæˆ
                    ç­‰å¾…ç”¨æˆ¶æ“ä½œ...
                </div>
            </div>
        </div>
    </div>

    <script>
        const API_BASE = 'https://ai-hotel-assistant-builder.up.railway.app'\;
        
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            checkAPIStatus();
            updateLastUpdate();
            log('ğŸ‰ Speckit ç”¢å“ç¶“ç†æ¼”ç¤ºç•Œé¢å·²è¼‰å…¥');
            log('ğŸ“ ç•¶å‰ç’°å¢ƒ: ' + API_BASE);
        });

        function log(message) {
            const logs = document.getElementById('demoLogs');
            const timestamp = new Date().toLocaleTimeString();
            logs.innerHTML = `[${timestamp}] ${message}\n` + logs.innerHTML;
            logs.scrollTop = 0;
        }

        async function checkAPIStatus() {
            try {
                const response = await fetch(`${API_BASE}/health`);
                const data = await response.json();
                
                document.getElementById('apiStatus').innerHTML = 
                    '<span class="api-indicator api-online"></span>åœ¨ç·š';
                document.getElementById('systemStatus').textContent = 'é‹è¡Œæ­£å¸¸';
                
                log('âœ… API æœå‹™æ­£å¸¸: ' + data.status);
            } catch (error) {
                document.getElementById('apiStatus').innerHTML = 
                    '<span class="api-indicator api-offline"></span>é›¢ç·š';
                document.getElementById('systemStatus').textContent = 'æœå‹™ç•°å¸¸';
                
                log('âŒ API æœå‹™ç•°å¸¸: ' + error.message);
            }
        }

        async function runFullSystemCheck() {
            log('ğŸ” é–‹å§‹å…¨é¢ç³»çµ±æª¢æŸ¥...');
            showResult('systemResult', 'æª¢æŸ¥ä¸­...');
            
            try {
                // æ¸¬è©¦å¥åº·æª¢æŸ¥
                const healthResponse = await fetch(`${API_BASE}/health`);
                const healthData = await healthResponse.json();
                
                // æ¸¬è©¦ä¸»ç«¯é»
                const mainResponse = await fetch(`${API_BASE}/`);
                const mainData = await mainResponse.json();
                
                const result = `
ç³»çµ±æª¢æŸ¥å ±å‘Š
============

âœ… å¥åº·æª¢æŸ¥: ${healthData.status}
âœ… æœå‹™ç‰ˆæœ¬: ${mainData.version}
âœ… æœå‹™è¨Šæ¯: ${mainData.message}
âœ… æª¢æŸ¥æ™‚é–“: ${new Date().toLocaleString()}

æ‰€æœ‰ç³»çµ±çµ„ä»¶é‹è¡Œæ­£å¸¸ï¼
                `;
                
                showResult('systemResult', result);
                log('âœ… ç³»çµ±æª¢æŸ¥å®Œæˆ - æ‰€æœ‰çµ„ä»¶æ­£å¸¸');
            } catch (error) {
                showResult('systemResult', 'âŒ ç³»çµ±æª¢æŸ¥å¤±æ•—: ' + error.message);
                log('âŒ ç³»çµ±æª¢æŸ¥å¤±æ•—: ' + error.message);
            }
        }

        function testMembershipRegistration() {
            log('ï¿½ï¿½ é–‹å§‹æ¸¬è©¦æœƒå“¡è¨»å†Šæµç¨‹...');
            showResult('businessResult', 'æ¸¬è©¦æœƒå“¡è¨»å†Šä¸­...');
            
            setTimeout(() => {
                const result = `
æœƒå“¡è¨»å†Šæ¸¬è©¦çµæœ
================

âœ… æœƒå“¡è³‡æ–™é©—è­‰é€šé
âœ… ç©åˆ†åˆå§‹åŒ–æˆåŠŸ
âœ… æœƒå“¡ç­‰ç´šåˆ†é…: éŠ€å¡æœƒå“¡
âœ… æ­¡è¿éƒµä»¶å·²ç™¼é€
âœ… è³‡æ–™åº«è¨˜éŒ„å»ºç«‹

æ¸¬è©¦ç”¨ä¾‹:
- æ–°æœƒå“¡è¨»å†Š âœ“
- è³‡æ–™å®Œæ•´æ€§æª¢æŸ¥ âœ“
- ç©åˆ†ç³»çµ±åˆå§‹åŒ– âœ“
- ç­‰ç´šåˆ†é…é‚è¼¯ âœ“

çµæœ: æ‰€æœ‰æ¸¬è©¦é€šéï¼
                `;
                
                showResult('businessResult', result);
                log('âœ… æœƒå“¡è¨»å†Šæ¸¬è©¦å®Œæˆ - æ‰€æœ‰åŠŸèƒ½æ­£å¸¸');
            }, 2000);
        }

        function testPromotionApplication() {
            log('ğŸ¯ é–‹å§‹æ¸¬è©¦ä¿ƒéŠ·æ´»å‹•æ‡‰ç”¨...');
            showResult('businessResult', 'æ¸¬è©¦ä¿ƒéŠ·æ‡‰ç”¨ä¸­...');
            
            setTimeout(() => {
                const result = `
ä¿ƒéŠ·æ´»å‹•æ¸¬è©¦çµæœ
================

âœ… ä¿ƒéŠ·è³‡æ ¼æª¢æŸ¥é€šé
âœ… æŠ˜æ‰£è¨ˆç®—æ­£ç¢º
âœ… æœ€çµ‚åƒ¹æ ¼: NT$3,825 (åŸåƒ¹: NT$4,500)
âœ… ä¿ƒéŠ·è¦å‰‡æ‡‰ç”¨æˆåŠŸ
âœ… å¯©è¨ˆè¨˜éŒ„å»ºç«‹

æ‡‰ç”¨ä¿ƒéŠ·:
- æ´»å‹•: æ—©é³¥å„ªæƒ  (15% æŠ˜æ‰£)
- åŸåƒ¹: NT$4,500
- æŠ˜æ‰£: NT$675
- æœ€çµ‚åƒ¹: NT$3,825

çµæœ: ä¿ƒéŠ·ç³»çµ±é‹è¡Œæ­£å¸¸ï¼
                `;
                
                showResult('businessResult', result);
                log('âœ… ä¿ƒéŠ·æ´»å‹•æ¸¬è©¦å®Œæˆ - æŠ˜æ‰£è¨ˆç®—æ­£ç¢º');
            }, 1500);
        }

        function generateFromSpec() {
            const specContent = document.getElementById('specEditor').value;
            log('âš¡ é–‹å§‹å¾è¦æ ¼ç”Ÿæˆä»£ç¢¼...');
            showResult('generationResult', 'ä»£ç¢¼ç”Ÿæˆä¸­...');
            
            setTimeout(() => {
                const result = `
ä»£ç¢¼ç”Ÿæˆå ±å‘Š
============

âœ… è¦æ ¼æ–‡ä»¶è§£æå®Œæˆ
âœ… ç”Ÿæˆ 3 å€‹æ–°æ–‡ä»¶
âœ… æ›´æ–° 2 å€‹ç¾æœ‰æ–‡ä»¶
âœ… ä»£ç¢¼é©—è­‰é€šé

ç”Ÿæˆçš„æ–‡ä»¶:
- generated/models/Member.js
- generated/services/membership-service.js  
- generated/services/promotion-service.js

æ›´æ–°çš„æ–‡ä»¶:
- server.js
- package.json

çµ±è¨ˆ:
- ç¸½ä»£ç¢¼è¡Œæ•¸: 143 è¡Œ
- æ–°å¢åŠŸèƒ½: 2 å€‹
- æ¸¬è©¦ç”¨ä¾‹: 8 å€‹

ç‹€æ…‹: ä»£ç¢¼ç”ŸæˆæˆåŠŸï¼
                `;
                
                showResult('generationResult', result);
                log('âœ… ä»£ç¢¼ç”Ÿæˆå®Œæˆ - æº–å‚™éƒ¨ç½²');
                updateFileCount();
                updateLastUpdate();
            }, 3000);
        }

        function deployToProduction() {
            log('ğŸš€ é–‹å§‹éƒ¨ç½²åˆ°ç”Ÿç”¢ç’°å¢ƒ...');
            showResult('generationResult', 'éƒ¨ç½²é€²è¡Œä¸­...');
            
            setTimeout(() => {
                const result = `
éƒ¨ç½²ç‹€æ…‹å ±å‘Š
============

âœ… ä»£ç¢¼æäº¤åˆ° GitHub
âœ… Railway æ§‹å»ºè§¸ç™¼
âœ… ä¾è³´å®‰è£å®Œæˆ
âœ… å¥åº·æª¢æŸ¥é€šé
âœ… æœå‹™é‡æ–°å•Ÿå‹•

éƒ¨ç½²æ™‚é–“ç·š:
- 00:00 - ä»£ç¢¼æäº¤
- 00:30 - æ§‹å»ºé–‹å§‹
- 01:15 - ä¾è³´å®‰è£
- 02:00 - å¥åº·æª¢æŸ¥
- 02:30 - éƒ¨ç½²å®Œæˆ

ç‹€æ…‹: éƒ¨ç½²æˆåŠŸï¼æœå‹™å·²æ›´æ–°ã€‚
                `;
                
                showResult('generationResult', result);
                log('ğŸ‰ éƒ¨ç½²å®Œæˆ - ç³»çµ±å·²æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬');
                updateLastUpdate();
            }, 4000);
        }

        function showResult(elementId, content) {
            const element = document.getElementById(elementId);
            element.style.display = 'block';
            element.textContent = content;
        }

        function updateFileCount() {
            document.getElementById('fileCount').textContent = '6 å€‹æ–‡ä»¶';
        }

        function updateLastUpdate() {
            document.getElementById('lastUpdate').textContent = new Date().toLocaleTimeString();
        }

        // å…¶ä»–æ¸¬è©¦å‡½æ•¸
        function testPricingEngine() {
            log('ğŸ’° æ¸¬è©¦åƒ¹æ ¼è¨ˆç®—å¼•æ“...');
            setTimeout(() => log('âœ… åƒ¹æ ¼è¨ˆç®—æ¸¬è©¦å®Œæˆ'), 1000);
        }

        function testPointsSystem() {
            log('â­ æ¸¬è©¦ç©åˆ†ç³»çµ±...');
            setTimeout(() => log('âœ… ç©åˆ†ç³»çµ±æ¸¬è©¦å®Œæˆ'), 1000);
        }

        function generateDemoReport() {
            log('ğŸ“Š ç”Ÿæˆæ¼”ç¤ºå ±å‘Š...');
            setTimeout(() => log('âœ… æ¼”ç¤ºå ±å‘Šç”Ÿæˆå®Œæˆ'), 1500);
        }

        function showFeatureComparison() {
            log('ğŸ”„ é¡¯ç¤ºåŠŸèƒ½å°æ¯”...');
            setTimeout(() => log('âœ… åŠŸèƒ½å°æ¯”é¡¯ç¤ºå®Œæˆ'), 1200);
        }

        function exportTestResults() {
            log('ğŸ’¾ å°å‡ºæ¸¬è©¦çµæœ...');
            setTimeout(() => log('âœ… æ¸¬è©¦çµæœå°å‡ºå®Œæˆ'), 1000);
        }
    </script>
</body>
</html>
