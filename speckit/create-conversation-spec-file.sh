#!/bin/bash

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "ðŸ“„ å‰µå»º conversation-spec.yaml æ–‡ä»¶"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""

# æª¢æŸ¥ç›®éŒ„
if [ ! -d "speckit" ]; then
    mkdir -p speckit
    echo "âœ… å‰µå»º speckit ç›®éŒ„"
fi

# å‰µå»º conversation-spec.yaml
cat > speckit/conversation-spec.yaml << 'EOFYAML'
name: hotel-ai-conversation-system
version: 1.0.0
description: é£¯åº— AI åŠ©æ‰‹å°è©±ç³»çµ±è¦æ ¼æ›¸
last_updated: 2025-11-04

# ============================================
# å°è©±å ´æ™¯å®šç¾©
# ============================================
conversation_scenarios:
  
  # å ´æ™¯ 1ï¼šå•å€™
  greeting:
    trigger:
      - ä½ å¥½
      - hi
      - hello
      - å“ˆå›‰
      - å—¨
    response: |
      æ‚¨å¥½ï¼ðŸ‘‹ æˆ‘æ˜¯å°åŒ—æ™¶è¯é…’åº—çš„æ™ºèƒ½åŠ©æ‰‹
      
      æˆ‘å¯ä»¥å”åŠ©æ‚¨ï¼š
      â€¢ ðŸ¨ æŸ¥çœ‹æˆ¿åž‹å’Œåƒ¹æ ¼
      â€¢ ðŸ’° è¨ˆç®—è¨‚æˆ¿è²»ç”¨
      â€¢ ðŸ’Ž äº†è§£æœƒå“¡æ¬Šç›Š
      â€¢ ðŸŽ‰ æŸ¥è©¢å„ªæƒ æ´»å‹•
      â€¢ ï¿½ï¿½ è§£ç­”è¨‚æˆ¿å•é¡Œ
      
      è«‹å•ä»Šå¤©æƒ³äº†è§£ä»€éº¼å‘¢ï¼Ÿ

  # å ´æ™¯ 2ï¼šæˆ¿åž‹æŸ¥è©¢
  room_inquiry:
    trigger:
      - æˆ¿åž‹
      - æˆ¿åž‹ä»‹ç´¹
      - æˆ¿é–“
      - æœ‰ä»€éº¼æˆ¿åž‹
      - æŸ¥è©¢æˆ¿åž‹
    patterns:
      - /(æˆ¿åž‹|æˆ¿é–“).*(ä»‹ç´¹|æœ‰|ä»€éº¼|å“ªäº›)/
      - /(ä»‹ç´¹|æœ‰|ä»€éº¼|å“ªäº›).*(æˆ¿åž‹|æˆ¿é–“)/
    response_template: |
      ï¿½ï¿½ **å°åŒ—æ™¶è¯é…’åº— - ç²¾é¸æˆ¿åž‹**
      
      **1. è±ªè¯å®¢æˆ¿** - NT$ 8,800/æ™š
      ðŸ“ 35å¹³æ–¹å…¬å°º | ðŸ‘¥ 2ä½æˆäºº
      ðŸ³ å¯åŠ è³¼æ—©é¤ NT$650/äºº
      âœ¨ èˆ’é©å„ªé›…ï¼Œå•†å‹™å‡ºå·®é¦–é¸
      
      **2. è¡Œæ”¿å®¢æˆ¿** - NT$ 12,800/æ™š
      ðŸ“ 42å¹³æ–¹å…¬å°º | ðŸ‘¥ 2ä½æˆäºº
      ðŸ³ å«è±ç››æ—©é¤
      âœ¨ è¡Œæ”¿æ¨“å±¤ï¼Œå…è²»ä½¿ç”¨è²´è³“å»³
      
      **3. å¥—æˆ¿** - NT$ 18,800/æ™š
      ðŸ“ 68å¹³æ–¹å…¬å°º | ðŸ‘¥ 3ä½æˆäºº
      ðŸ³ å«è±ç››æ—©é¤
      âœ¨ ç¨ç«‹å®¢å»³ï¼Œå®¶åº­æ—…éŠæœ€ä½³é¸æ“‡
      
      **4. ç¸½çµ±å¥—æˆ¿** - NT$ 38,800/æ™š
      ðŸ“ 120å¹³æ–¹å…¬å°º | ðŸ‘¥ 4ä½æˆäºº
      ðŸ³ å«è±ç››æ—©é¤
      âœ¨ é ‚ç´šå¥¢è¯ï¼Œ360åº¦åŸŽå¸‚æ™¯è§€
      
      ï¿½ï¿½ **é•·ä½å„ªæƒ **ï¼š
      â€¢ ä½3æ™š â†’ äº«95æŠ˜
      â€¢ ä½5æ™š â†’ äº«9æŠ˜
      â€¢ ä½7æ™šä»¥ä¸Š â†’ äº«85æŠ˜
      
      æƒ³äº†è§£æ›´å¤šè©³æƒ…æˆ–ç«‹å³è¨‚æˆ¿ï¼Ÿ

  # å ´æ™¯ 3ï¼šæ—©é¤è³‡è¨Š
  breakfast_inquiry:
    trigger:
      - æ—©é¤
      - åŠ è³¼æ—©é¤
      - æ—©é¤è³‡è¨Š
      - å«æ—©é¤å—Ž
      - å“ªäº›æˆ¿åž‹å«æ—©é¤
    patterns:
      - /(æ—©é¤|breakfast).*(åŠ è³¼|å«|åŒ…|å“ªäº›|æœ‰)/
      - /(åŠ è³¼|è³¼è²·).*(æ—©é¤|breakfast)/
    response: |
      ðŸ³ **æ—©é¤å®Œæ•´è³‡è¨Š**
      
      ï¿½ï¿½ **åŒ…å«æ—©é¤çš„æˆ¿åž‹**ï¼š
      âœ… è¡Œæ”¿å®¢æˆ¿ - å…è²»æ—©é¤
      âœ… å¥—æˆ¿ - å…è²»æ—©é¤
      âœ… ç¸½çµ±å¥—æˆ¿ - å…è²»æ—©é¤
      
      ðŸ“‹ **éœ€åŠ è³¼æ—©é¤çš„æˆ¿åž‹**ï¼š
      âŒ è±ªè¯å®¢æˆ¿ - NT$ 650/äºº/å¤©
      
      ðŸ• **ä¾›æ‡‰æ™‚é–“**ï¼š
      â€¢ é€±ä¸€è‡³é€±äº”ï¼š06:30 - 10:30
      â€¢ é€±æœ«å‡æ—¥ï¼š06:30 - 11:00
      
      ðŸ“ **ç”¨é¤åœ°é»ž**ï¼šæ ¢éº—å»³ï¼ˆ2æ¨“ï¼‰
      
      ðŸ¥ **é¤é»žå…§å®¹**ï¼š
      â€¢ ä¸­è¥¿å¼è‡ªåŠ©é¤
      â€¢ ç¾åšè›‹æ–™ç†ï¼ˆæ­å§†è›‹ã€ç­å°¼è¿ªå…‹è›‹ç­‰ï¼‰
      â€¢ æ–°é®®çƒ˜ç„™éºµåŒ…å’Œç³•é»ž
      â€¢ å°å¼ç²¥å“èˆ‡é…èœ
      â€¢ ç¾æ¦¨æžœæ±ã€å’–å•¡å’ŒèŒ¶
      
      éœ€è¦å¹«æ‚¨è¨‚æˆ¿å—Žï¼Ÿ

  # å ´æ™¯ 4ï¼šå…’ç«¥æ”¿ç­–
  child_policy:
    trigger:
      - å°å­©
      - å…’ç«¥
      - å¸¶å°å­©
      - å…’ç«¥æ”¶è²»
    patterns:
      - /(å°å­©|å…’ç«¥).*(è²»ç”¨|æ”¶è²»|åƒ¹æ ¼|å¤šå°‘)/
    response: |
      ðŸ‘¶ **å…’ç«¥å…¥ä½æ”¿ç­–**
      
      ðŸ’° **è²»ç”¨æ¨™æº–**ï¼š
      â€¢ **0-6æ­²å…’ç«¥**ï¼šå…è²»ï¼ˆä¸ä½”åºŠï¼‰
      â€¢ **7-12æ­²å…’ç«¥**ï¼šNT$ 800/æ™šï¼ˆåŠ åºŠï¼‰
      â€¢ **13æ­²ä»¥ä¸Š**ï¼šè¦–ç‚ºæˆäººï¼ŒNT$ 1,200/æ™šï¼ˆåŠ åºŠï¼‰
      
      ðŸ›ï¸ **åŠ åºŠèªªæ˜Ž**ï¼š
      â€¢ è±ªè¯å®¢æˆ¿ã€è¡Œæ”¿å®¢æˆ¿ï¼šæœ€å¤šåŠ 1åºŠ
      â€¢ å¥—æˆ¿ï¼šæœ€å¤šåŠ 2åºŠ
      â€¢ ç¸½çµ±å¥—æˆ¿ï¼šæœ€å¤šåŠ 2åºŠ
      
      ðŸ³ **å…’ç«¥æ—©é¤**ï¼š
      â€¢ 6æ­²ä»¥ä¸‹ï¼šå…è²»
      â€¢ 7æ­²ä»¥ä¸Šï¼šNT$ 650/äºº
      
      éœ€è¦å¹«æ‚¨è¨ˆç®—è¨‚æˆ¿è²»ç”¨å—Žï¼Ÿ

  # å ´æ™¯ 5ï¼šå„ªæƒ æ´»å‹•
  promotions_inquiry:
    trigger:
      - å„ªæƒ 
      - æŠ˜æ‰£
      - ä¿ƒéŠ·
      - æ´»å‹•
      - å„ªæƒ å°ˆæ¡ˆ
      - æœ‰ä»€éº¼å„ªæƒ 
    patterns:
      - /(å„ªæƒ |æŠ˜æ‰£|ä¿ƒéŠ·|æ´»å‹•).*(æœ‰|ä»€éº¼|å“ªäº›)/
    response: |
      ðŸŽ‰ **å„ªæƒ æ´»å‹•ç¸½è¦½**
      
      ðŸ¦ **æ—©é³¥å„ªæƒ **
      æå‰30å¤©é è¨‚äº«8æŠ˜
      ðŸ’° è±ªè¯å®¢æˆ¿ï¼šNT$8,800 â†’ NT$7,040/æ™š
      
      ðŸ  **é€£ä½å„ªæƒ **
      â€¢ 3-4æ™šï¼š95æŠ˜
      â€¢ 5-6æ™šï¼š9æŠ˜ + å…è²»æ©Ÿå ´æŽ¥é€
      â€¢ 7æ™šä»¥ä¸Šï¼š85æŠ˜ + å…è²»å‡ç­‰
      
      â° **æœ€å¾Œå„ªæƒ **
      ç•¶æ—¥é è¨‚äº«7æŠ˜ï¼ˆè¦–æˆ¿æ³ï¼‰
      
      ðŸŽ“ **å­¸ç”Ÿå°ˆæ¡ˆ**
      æ†‘å­¸ç”Ÿè­‰äº«85æŠ˜
      é©ç”¨ï¼šè±ªè¯ã€è¡Œæ”¿å®¢æˆ¿
      
      ðŸ‘´ **éŠ€é«®å°ˆæ¡ˆ**
      65æ­²ä»¥ä¸Šäº«85æŠ˜
      å…¨éƒ¨æˆ¿åž‹é©ç”¨
      
      ðŸ‡¹ðŸ‡¼ **åœ‹æ—…è£œåŠ©**
      é…åˆè§€å…‰å±€æ–¹æ¡ˆ
      
      ðŸ’¡ éƒ¨åˆ†å„ªæƒ å¯ç–ŠåŠ ä½¿ç”¨ï¼
      æƒ³äº†è§£å“ªå€‹å„ªæƒ çš„è©³æƒ…ï¼Ÿ

  # å ´æ™¯ 6ï¼šæœƒå“¡åˆ¶åº¦
  membership_inquiry:
    trigger:
      - æœƒå“¡
      - æœƒå“¡åˆ¶åº¦
      - æœƒå“¡æ¬Šç›Š
      - å¦‚ä½•å‡ç´š
    patterns:
      - /(æœƒå“¡|æœƒå“¡åˆ¶)/
    response: |
      ðŸ’Ž **æœƒå“¡åˆ¶åº¦**
      
      ðŸŽ–ï¸ **æœƒå“¡ç­‰ç´š**ï¼š
      â€¢ æ™®é€šæœƒå“¡ï¼šè¨»å†Šå³ç²å¾—
      â€¢ éŠ€å¡æœƒå“¡ï¼šå…¥ä½10æ™šæˆ–æ¶ˆè²»NT$15,000
      â€¢ é‡‘å¡æœƒå“¡ï¼šå…¥ä½30æ™šæˆ–æ¶ˆè²»NT$45,000
      â€¢ ç™½é‡‘æœƒå“¡ï¼šå…¥ä½60æ™šæˆ–æ¶ˆè²»NT$90,000
      
      âœ¨ **æ¬Šç›Š**ï¼š
      â€¢ å°ˆå±¬æŠ˜æ‰£ï¼ˆéŠ€å¡5%ã€é‡‘å¡8%ã€ç™½é‡‘12%ï¼‰
      â€¢ ç©åˆ†ç´¯ç©ï¼ˆæ¯NT$100=1é»žï¼‰
      â€¢ æå‰å…¥ä½/å»¶é²é€€æˆ¿ï¼ˆé‡‘å¡ä»¥ä¸Šï¼‰
      â€¢ ç”Ÿæ—¥å„ªæƒ 85æŠ˜
      â€¢ è¿Žè³“æ°´æžœã€è¿·ä½ å§å…è²»
      
      ðŸ“ ç«‹å³è¨»å†Šé–‹å§‹äº«å—æ¬Šç›Šï¼

  # å ´æ™¯ 7ï¼šç©åˆ†åˆ¶åº¦
  points_inquiry:
    trigger:
      - ç©åˆ†
      - é»žæ•¸
      - ç´¯ç©
      - å…Œæ›
    patterns:
      - /(ç©åˆ†|é»žæ•¸).*(ç´¯ç©|å…Œæ›|æ€Žéº¼ç”¨)/
    response: |
      ðŸŽ **ç©åˆ†åˆ¶åº¦**
      
      ðŸ’° **ç´¯ç©**ï¼š
      â€¢ æ¯æ¶ˆè²»NT$100 = 1é»ž
      â€¢ æœƒå“¡å°ˆå±¬ä¿ƒéŠ·åŠ å€é€
      â€¢ ç”Ÿæ—¥ç•¶æœˆ2å€ç©åˆ†
      
      ðŸŽ‰ **å…Œæ›**ï¼š
      â€¢ 500é»žï¼šå…è²»æ—©é¤åˆ¸1å¼µ
      â€¢ 1,000é»žï¼šæˆ¿é–“å‡ç­‰1æ¬¡
      â€¢ 2,000é»žï¼šå…è²»ä½å®¿1æ™šï¼ˆè±ªè¯å®¢æˆ¿ï¼‰
      â€¢ 5,000é»žï¼šå¥—æˆ¿å…è²»ä½å®¿1æ™š
      
      ç«‹å³è¨‚æˆ¿é–‹å§‹ç´¯ç©ï¼

  # å ´æ™¯ 8ï¼šå–æ¶ˆæ”¿ç­–
  cancellation_policy:
    trigger:
      - å–æ¶ˆ
      - é€€è¨‚
      - é€€æˆ¿
      - å–æ¶ˆæ”¿ç­–
    patterns:
      - /(å–æ¶ˆ|é€€è¨‚|é€€æˆ¿)/
    response: |
      ðŸ“‹ **å–æ¶ˆèˆ‡æ›´æ”¹æ”¿ç­–**
      
      âœ… **å…è²»å–æ¶ˆ**ï¼š
      å…¥ä½æ—¥å‰24å°æ™‚ï¼ˆå«ï¼‰ä»¥å‰å–æ¶ˆ
      â†’ å…¨é¡é€€æ¬¾
      
      âš ï¸ **æ”¶è²»å–æ¶ˆ**ï¼š
      â€¢ å…¥ä½å‰12å°æ™‚å–æ¶ˆ â†’ é€€50%
      â€¢ å…¥ä½å‰12å°æ™‚å…§ â†’ ä¸å¯é€€æ¬¾
      
      ðŸ”„ **æ›´æ”¹æ—¥æœŸ**ï¼š
      â€¢ å…¥ä½å‰24å°æ™‚å…è²»æ›´æ”¹ï¼ˆè¦–æˆ¿æ³ï¼‰
      â€¢ å…¥ä½å‰12å°æ™‚å…§æ›´æ”¹éœ€é¡å¤–æ”¶è²»
      
      ðŸ“ž **è¯çµ¡æ–¹å¼**ï¼š
      å–æ¶ˆæˆ–æ›´æ”¹è«‹è‡´é›»ï¼š+886-2-2523-8000
      
      é‚„æœ‰å…¶ä»–å•é¡Œå—Žï¼Ÿ

  # å ´æ™¯ 9ï¼šè¨­æ–½æŸ¥è©¢
  facilities_inquiry:
    trigger:
      - è¨­æ–½
      - æœå‹™
      - æœ‰ä»€éº¼è¨­æ–½
      - æ¸¸æ³³æ± 
      - å¥èº«æˆ¿
    patterns:
      - /(è¨­æ–½|æœå‹™|æ¸¸æ³³æ± |å¥èº«æˆ¿)/
    response: |
      ðŸ¨ **é£¯åº—è¨­æ–½**
      
      ðŸŠ **ä¼‘é–’è¨­æ–½**
      â€¢ å®¤å…§æº«æ°´æ¸¸æ³³æ± ï¼ˆ06:00-22:00ï¼‰
      â€¢ 24å°æ™‚å¥èº«ä¸­å¿ƒ
      â€¢ èŠ¬è˜­æ¡‘æ‹¿ & è’¸æ°£å®¤
      
      ðŸ½ï¸ **é¤é£²æœå‹™**
      â€¢ æ™¶è¯è»’ - ç²µèœé¤å»³
      â€¢ æ ¢éº—å»³ - è‡ªåŠ©é¤
      â€¢ Robin's éµæ¿ç‡’
      â€¢ Lobby Lounge - ä¸‹åˆèŒ¶
      
      ðŸ’¼ **å•†å‹™è¨­æ–½**
      â€¢ 24å°æ™‚å•†å‹™ä¸­å¿ƒ
      â€¢ æœƒè­°å®¤
      â€¢ å…è²» WiFi
      
      ðŸš— **å…¶ä»–æœå‹™**
      â€¢ å…è²»åœè»Š
      â€¢ æ©Ÿå ´æŽ¥é€ï¼ˆNT$ 1,500/è¶Ÿï¼‰
      â€¢ æ´—è¡£æœå‹™
      
      æƒ³é è¨‚ä½æˆ¿å—Žï¼Ÿ

  # å ´æ™¯ 10ï¼šä½ç½®äº¤é€š
  location_inquiry:
    trigger:
      - ä½ç½®
      - åœ°å€
      - åœ¨å“ªè£¡
      - æ€Žéº¼åŽ»
      - äº¤é€š
    patterns:
      - /(ä½ç½®|åœ°å€|åœ¨å“ª|äº¤é€š)/
    response: |
      ðŸ“ **ä½ç½®èˆ‡äº¤é€š**
      
      ðŸ¢ **åœ°å€**ï¼š
      å°åŒ—å¸‚ä¸­å±±å€ä¸­å±±åŒ—è·¯äºŒæ®µ41è™Ÿ
      
      ðŸš‡ **æ·é‹**ï¼š
      ä¸­å±±ç«™æ­¥è¡Œ3åˆ†é˜
      
      âœˆï¸ **æ©Ÿå ´**ï¼š
      â€¢ æ¾å±±æ©Ÿå ´ 15åˆ†é˜
      â€¢ æ¡ƒåœ’æ©Ÿå ´ 50åˆ†é˜
      
      ðŸš— **æ©Ÿå ´æŽ¥é€**ï¼š
      NT$ 1,500/è¶Ÿï¼ˆéœ€æå‰é ç´„ï¼‰
      
      éœ€è¦é ç´„æŽ¥é€æœå‹™å—Žï¼Ÿ

  # å ´æ™¯ 11ï¼šå…¥é€€æˆ¿æ™‚é–“
  checkin_time:
    trigger:
      - å…¥ä½æ™‚é–“
      - é€€æˆ¿æ™‚é–“
      - å¹¾é»žå…¥ä½
      - å¹¾é»žé€€æˆ¿
    patterns:
      - /(å…¥ä½|é€€æˆ¿|check).*(æ™‚é–“|å¹¾é»ž)/
    response: |
      â° **å…¥ä½èˆ‡é€€æˆ¿æ™‚é–“**
      
      ðŸ¨ **æ¨™æº–æ™‚é–“**ï¼š
      â€¢ å…¥ä½ï¼š15:00 èµ·
      â€¢ é€€æˆ¿ï¼š11:00 å‰
      
      â° **ææ—©å…¥ä½**ï¼š
      è¦–æˆ¿æ³ï¼Œå¯èƒ½éœ€é¡å¤–æ”¶è²»
      
      â° **å»¶é²é€€æˆ¿**ï¼š
      â€¢ 12:00-18:00ï¼šæ”¶å–åŠå¤©æˆ¿è²»
      â€¢ 18:00 å¾Œï¼šæ”¶å–å…¨å¤©æˆ¿è²»
      
      ðŸ’Ž **æœƒå“¡ç¦®é‡**ï¼ˆé‡‘å¡ä»¥ä¸Šï¼‰ï¼š
      â€¢ 12:00æå‰å…¥ä½
      â€¢ 13:00å»¶é²é€€æˆ¿
      
      æƒ³äº†è§£æœƒå“¡åˆ¶åº¦å—Žï¼Ÿ

  # å ´æ™¯ 12ï¼šä»˜æ¬¾æ–¹å¼
  payment_inquiry:
    trigger:
      - ä»˜æ¬¾
      - æ”¯ä»˜
      - åˆ·å¡
      - ä¿¡ç”¨å¡
    patterns:
      - /(ä»˜æ¬¾|æ”¯ä»˜|åˆ·å¡)/
    response: |
      ðŸ’³ **ä»˜æ¬¾æ–¹å¼**
      
      âœ… **æŽ¥å—ä»˜æ¬¾æ–¹å¼**ï¼š
      â€¢ ä¿¡ç”¨å¡ï¼ˆVisa/MasterCard/JCB/ç¾Žåœ‹é‹é€šï¼‰
      â€¢ LINE Pay
      â€¢ éŠ€è¡ŒåŒ¯æ¬¾
      â€¢ ç¾é‡‘ï¼ˆæ–°å°å¹£ï¼‰
      
      ðŸ“‹ **ä»˜æ¬¾æ™‚æ©Ÿ**ï¼š
      â€¢ ç·šä¸Šé è¨‚ï¼šå¯é¸æ“‡é ä»˜æˆ–ç¾å ´ä»˜æ¬¾
      â€¢ é›»è©±é è¨‚ï¼šéœ€ä¿¡ç”¨å¡æ“”ä¿
      â€¢ ç¾å ´è¨‚æˆ¿ï¼šå…¥ä½æ™‚ä»˜æ¬¾
      
      ðŸ§¾ **ç™¼ç¥¨é–‹ç«‹**ï¼š
      å¯é–‹ç«‹äºŒè¯å¼æˆ–ä¸‰è¯å¼ç™¼ç¥¨
      
      æº–å‚™å¥½è¨‚æˆ¿äº†å—Žï¼Ÿ

# ============================================
# å¤šè¼ªå°è©±ï¼šè¨‚æˆ¿æµç¨‹
# ============================================
multi_turn_booking_flow:
  description: å®Œæ•´çš„è¨‚æˆ¿è³‡è¨Šæ”¶é›†æµç¨‹
  
  stages:
    - name: greeting
      trigger: ["æˆ‘æƒ³è¨‚æˆ¿", "è¦è¨‚æˆ¿", "è¨‚æˆ¿", "é è¨‚"]
      response: |
        å¥½çš„ï¼è®“æˆ‘å¹«æ‚¨å®‰æŽ’è¨‚æˆ¿ ðŸ˜Š
        
        è«‹å‘Šè¨´æˆ‘ï¼š
        ðŸ¨ æƒ³è¦å“ªç¨®æˆ¿åž‹ï¼Ÿï¼ˆè±ªè¯/è¡Œæ”¿/å¥—æˆ¿/ç¸½çµ±ï¼‰
        ðŸ“… é è¨ˆå…¥ä½å¹¾æ™šï¼Ÿ
        ðŸ‘¥ å¹¾ä½æˆäººå…¥ä½ï¼Ÿ
      next_stage: collect_info
    
    - name: collect_info
      required_entities:
        - roomType
        - nights
        - adults
      prompts:
        missing_roomType: |
          ðŸ¨ **è«‹é¸æ“‡æˆ¿åž‹**ï¼š
          1ï¸âƒ£ è±ªè¯å®¢æˆ¿ - NT$ 8,800/æ™š
          2ï¸âƒ£ è¡Œæ”¿å®¢æˆ¿ - NT$ 12,800/æ™š
          3ï¸âƒ£ å¥—æˆ¿ - NT$ 18,800/æ™š
          4ï¸âƒ£ ç¸½çµ±å¥—æˆ¿ - NT$ 38,800/æ™š
        missing_nights: |
          ðŸ“… **é è¨ˆä½å¹¾æ™šå‘¢**ï¼Ÿ
          ðŸ’¡ 3æ™š95æŠ˜ã€5æ™š9æŠ˜ã€7æ™š85æŠ˜
        missing_adults: |
          ðŸ‘¥ **è«‹å•å¹¾ä½æˆäººå…¥ä½**ï¼Ÿ
          ðŸ’¡ å¦‚æœ‰å…’ç«¥åŒè¡Œï¼Œä¹Ÿè«‹å‘Šè¨´æˆ‘ï¼
      next_stage: calculate

    - name: calculate
      action: calculate_total
      response_template: |
        {calculation_result}
        
        â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
        ðŸ“ž **ç«‹å³é è¨‚**
        â€¢ é›»è©±ï¼š+886-2-2523-8000
        â€¢ ç·šä¸Šï¼šwww.grandformosa.com.tw
        
        ðŸ’¡ éœ€è¦èª¿æ•´æˆ–æœ‰å…¶ä»–å•é¡Œå—Žï¼Ÿ

# ============================================
# å¯¦é«”æå–è¦å‰‡
# ============================================
entity_extraction:
  roomType:
    patterns:
      - pattern: /è±ªè¯/
        value: deluxe
      - pattern: /è¡Œæ”¿/
        value: executive
      - pattern: /å¥—æˆ¿/ (not /ç¸½çµ±/)
        value: suite
      - pattern: /ç¸½çµ±/
        value: presidential
  
  nights:
    pattern: /(\d+)(æ™š|å¤©)/
    type: integer
    min: 1
    max: 30
  
  adults:
    pattern: /(\d+)(å¤§äºº|æˆäºº|å€‹|ä½)/
    type: integer
    min: 1
    max: 4
  
  children:
    pattern: /(\d+)(å°å­©|å…’ç«¥)/
    type: integer
    min: 0
    max: 3

# ============================================
# æ„åœ–è­˜åˆ¥å„ªå…ˆç´š
# ============================================
intent_priority:
  - exact_match       # ç²¾ç¢ºåŒ¹é…
  - pattern_match     # æ¨¡å¼åŒ¹é…
  - context_aware     # ä¸Šä¸‹æ–‡æ„ŸçŸ¥
  - fallback         # å…œåº•å›žè¦†

# ============================================
# éŒ¯èª¤è™•ç†
# ============================================
error_handling:
  unknown_intent: |
    ðŸ˜Š æˆ‘å¯ä»¥å¹«æ‚¨ï¼š
    
    ðŸ¨ æŸ¥è©¢æˆ¿åž‹
    ðŸ’° è¨ˆç®—åƒ¹æ ¼
    ðŸ³ æ—©é¤è³‡è¨Š
    ðŸŽ‰ å„ªæƒ æ´»å‹•
    ðŸ’Ž æœƒå“¡æ¬Šç›Š
    ðŸ“‹ è¨‚æˆ¿æ”¿ç­–
    
    è«‹å•æƒ³äº†è§£ä»€éº¼ï¼Ÿ

  calculation_error: |
    è¨ˆç®—æ™‚ç™¼ç”ŸéŒ¯èª¤ï¼Œè«‹ç¢ºèªè³‡è¨Šï¼š
    éœ€è¦æä¾›ï¼šæˆ¿åž‹ã€å¤©æ•¸ã€äººæ•¸

# ============================================
# æ€§èƒ½æŒ‡æ¨™
# ============================================
performance_targets:
  intent_accuracy: 95%
  response_time: 500ms
  completion_rate: 85%
  user_satisfaction: 4.5/5
EOFYAML

echo "âœ… conversation-spec.yaml å·²å‰µå»º"

# æª¢æŸ¥æ–‡ä»¶
if [ -f "speckit/conversation-spec.yaml" ]; then
    echo ""
    echo "ðŸ“Š æ–‡ä»¶è³‡è¨Šï¼š"
    echo "   è·¯å¾‘ï¼šspeckit/conversation-spec.yaml"
    echo "   å¤§å°ï¼š$(wc -c < speckit/conversation-spec.yaml) bytes"
    echo "   è¡Œæ•¸ï¼š$(wc -l < speckit/conversation-spec.yaml) lines"
    echo ""
fi

# æäº¤åˆ° Git
echo "ðŸ“¤ æäº¤åˆ° GitHub..."
git add speckit/conversation-spec.yaml

git commit -m "feat: add comprehensive conversation-spec.yaml

Complete conversation specification including:
âœ… 12 conversation scenarios (greeting, room inquiry, breakfast, etc.)
âœ… Multi-turn booking flow with stages
âœ… Entity extraction patterns
âœ… Intent detection priorities
âœ… Error handling templates
âœ… Performance targets

This spec defines all AI conversation logic and serves as 
the blueprint for implementing the chat system."

git push origin main

echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "âœ… conversation-spec.yaml å·²æŽ¨é€åˆ° GitHub"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "ðŸ“‹ æ–‡ä»¶åŒ…å«ï¼š"
echo "   âœ… 12å€‹å°è©±å ´æ™¯å®šç¾©"
echo "   âœ… å¤šè¼ªè¨‚æˆ¿æµç¨‹è¦ç¯„"
echo "   âœ… å¯¦é«”æå–è¦å‰‡"
echo "   âœ… æ„åœ–è­˜åˆ¥å„ªå…ˆç´š"
echo "   âœ… éŒ¯èª¤è™•ç†æ¨¡æ¿"
echo "   âœ… æ€§èƒ½æŒ‡æ¨™"
echo ""
echo "ðŸ”— GitHub ä½ç½®ï¼š"
echo "   https://github.com/mengchieh123/ai-hotel-assistant-builder/blob/main/speckit/conversation-spec.yaml"
echo ""
echo "ðŸ“š SpecKit æ–‡ä»¶çµæ§‹ï¼š"
echo "   speckit/"
echo "   â”œâ”€â”€ business-spec.yaml       (æ¥­å‹™è¦å‰‡)"
echo "   â”œâ”€â”€ conversation-spec.yaml   (å°è©±é‚è¼¯) â† æ–°å¢ž"
echo "   â”œâ”€â”€ README.md                (èªªæ˜Žæ–‡æª”)"
echo "   â”œâ”€â”€ ARCHITECTURE.md          (æž¶æ§‹è¨­è¨ˆ)"
echo "   â””â”€â”€ IMPLEMENTATION_PLAN.md   (åŸ·è¡Œè¨ˆåŠƒ)"
echo ""

