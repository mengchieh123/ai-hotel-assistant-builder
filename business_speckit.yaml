name: hotel-booking-system
version: 1.0.0
description: 飯店預訂管理系統業務規格書（台灣地區）

business_domains:
  - 預訂管理
  - 房態管理
  - 價格管理
  - 會員管理
  - 促銷管理
  - 支付處理
  - 報表分析

core_business_rules:
  預訂規則:
    - 最少入住天數: 1天
    - 最長入住天數: 30天
    - 提前預訂時限: 最多365天前
    - 取消政策:
        免費取消: 入住前24小時
        部分退款: 入住前12小時(退50%)
        不可退款: 入住前12小時內
    - 入住時間: 15:00後
    - 退房時間: 11:00前（台灣常見退房時間）

  房態管理規則:
    - 庫存同步: 實時更新可用房間數
    - 超賣保護: 不允許超賣
    - 房型升級: 當原房型售完時可自動升級
    - 維護封房: 可臨時關閉特定房間

  價格計算規則:
    - 基礎價格: 房型基礎價格（新台幣）
    - 動態定價: 根據供需調整
    - 季節係數: 淡旺季價格調整（寒暑假、連續假期）
    - 週末加成: 週五、六價格上浮
    - 促銷折扣: 會員折扣、促銷代碼
    - 政府稅金: 包含10%服務費及5%營業稅

  會員體系規則:
    - 會員等級:
        普通會員: 註冊即獲得
        銀卡會員: 累計入住10晚或消費NT$15,000
        金卡會員: 累計入住30晚或消費NT$45,000
        白金會員: 累計入住60晚或消費NT$90,000
    - 會員權益:
        折扣優惠: 銀卡5%、金卡8%、白金12%
        提前入住: 金卡以上可12:00入住
        延遲退房: 金卡以上可13:00退房
        積分累積: 每消費NT$100累積1點
        生日優惠: 當月入住享85折
        專屬禮遇: 迎賓水果、迷你吧免費

  促銷規則:
    - 早鳥優惠: 提前30天預訂享8折
    - 連住優惠: 連住3晚以上享9折
    - 最後優惠: 當日預訂享7折
    - 國旅補助: 配合觀光局國旅方案
    - 連續假期: 春節、端午、中秋專案
    - 學生專案: 憑學生證享優惠
    - 銀髮專案: 65歲以上長者優惠

workflows:
  預訂流程:
    steps:
      - 查詢可用房型
      - 選擇房型與日期
      - 輸入客人資訊（含身份證字號）
      - 選擇支付方式
      - 應用促銷代碼
      - 計算總價格（含稅金）
      - 確認預訂
      - 發送確認通知（簡訊+LINE通知）

  會員註冊流程:
    steps:
      - 填寫基本資訊（姓名、手機、Email）
      - 驗證手機號碼
      - 註冊成功獲得普通會員
      - 發送歡迎禮包（優惠券）
      - 綁定LINE官方帳號

  促銷活動流程:
    steps:
      - 創建促銷活動
      - 設定活動規則
      - 設定目標客群
      - 上線活動
      - 透過LINE、Email推播
      - 監控活動效果
      - 活動結束分析

business_entities:
  Room:
    attributes:
      - room_id: string
      - room_type: string（標準房、豪華房、家庭房、套房）
      - room_number: string
      - floor: number
      - amenities: array（免費WiFi、電視、冰箱、茶具）
      - status: enum[available, occupied, maintenance]
      - base_price: number（新台幣）

  Booking:
    attributes:
      - booking_id: string
      - guest_id: string
      - room_id: string
      - check_in_date: date
      - check_out_date: date
      - total_nights: number
      - base_amount: number
      - service_charge: number（10%服務費）
      - tax_amount: number（5%營業稅）
      - discount_amount: number
      - total_amount: number
      - status: enum[pending, confirmed, checked_in, checked_out, cancelled]
      - payment_method: enum[credit_card, line_pay, bank_transfer]
      - payment_status: enum[pending, paid, refunded]

  Guest:
    attributes:
      - guest_id: string
      - name: string
      - email: string
      - phone: string
      - id_number: string（身份證字號/護照號碼）
      - nationality: string（國籍）
      - address: object（發票寄送地址）

  Member:
    attributes:
      - member_id: string
      - guest_id: string
      - tier: enum[regular, silver, gold, platinum]
      - points_balance: number
      - total_stays: number
      - total_spent: number
      - join_date: date
      - expiry_date: date
      - line_user_id: string（LINE綁定ID）
      - birthday: date（生日優惠用）

  Promotion:
    attributes:
      - promotion_id: string
      - name: string
      - type: enum[early_bird, last_minute, long_stay, package, student, senior]
      - discount_type: enum[percentage, fixed_amount]
      - discount_value: number
      - min_stay_nights: number
      - advance_booking_days: number
      - valid_period: object
      - target_tiers: array
      - required_document: string（學生證、身份證）

business_metrics:
  營收指標:
    - 日均房價(ADR)
    - 每間可售房收入(RevPAR)
    - 入住率(Occupancy Rate)
    - 總預訂額（新台幣）
    - 平均住宿天數

  會員指標:
    - 會員註冊數
    - 會員活躍度
    - 會員復購率
    - 會員貢獻占比
    - 會員升級率

  促銷效果:
    - 促銷活動參與率
    - 促銷帶來的訂單數
    - 促銷ROI
    - 優惠券使用率

integration_points:
  external_apis:
    - 支付網關:
        - 信用卡: 藍新金流、綠界科技
        - LINE Pay: LINE支付接口
        - 銀行匯款: 台灣銀行、中國信託、玉山銀行等
    - 通知服務:
        - 簡訊發送: 三竹資訊、Twilio
        - LINE通知: LINE Messaging API
        - Email發送: SendGrid
    - 政府系統:
        - 旅宿業登記系統
        - 統一發票整合平台

security_requirements:
  - 客戶資料加密存儲（含身份證字號）
  - 支付信息PCI DSS合規
  - 會員密碼加密
  - API訪問權限控制
  - 敏感操作日誌記錄
  - 個資法合規檢查

compliance_requirements:
  - 個人資料保護法（個資法）
  - 發展觀光條例
  - 旅館業管理規則
  - 統一發票使用辦法
  - 消費者保護法

localization_features:
  - 語言: 繁體中文
  - 幣別: 新台幣（NT$）
  - 稅金計算: 服務費10% + 營業稅5%
  - 發票類型: 二聯式/三聯式統一發票
  - 證件類型: 身份證、護照、居留證
  - 節日設定: 台灣國定假日、連續假期
  - 地址格式: 台灣縣市鄉鎮區格式
