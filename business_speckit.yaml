# business_speckit.yaml
version: "2.0"
name: "ai-hotel-assistant-enhanced"
description: "æ™ºèƒ½é…’åº—åŠ©æ‰‹å®Œæ•´å°è©±æŠ€èƒ½ç³»çµ±"
domain: "hospitality"

# æ ¸å¿ƒæ¥­å‹™ç›®æ¨™
business_goals:
  primary:
    - "å¯¦ç¾å®Œæ•´çš„é…’åº—é è¨‚å°è©±æµç¨‹"
    - "æä¾›ç²¾ç¢ºçš„è²»ç”¨è¨ˆç®—å’Œæ˜ç´°"
    - "æ™ºèƒ½æ¨è–¦å€‹æ€§åŒ–å¥—é¤"
    - "æå‡ç”¨æˆ¶é è¨‚è½‰åŒ–ç‡"
  
  secondary:
    - "æ¸›å°‘äººå·¥å®¢æœè² æ“”"
    - "æé«˜å®¢æˆ¶æ»¿æ„åº¦"
    - "å¢åŠ å¥—é¤éŠ·å”®æ¯”ä¾‹"

# ç”¨æˆ¶ç•«åƒå’Œç”¨ä¾‹
user_personas:
  family_traveler:
    name: "å®¶åº­æ—…å®¢"
    characteristics:
      - "2å¤§1å°æˆ–2å¤§2å°"
      - "é—œæ³¨å…’ç«¥è¨­æ–½å’Œå„ªæƒ "
      - "éœ€è¦ç©ºé–“å¯¬æ•çš„æˆ¿å‹"
    goals:
      - "æ‰¾åˆ°é©åˆå®¶åº­çš„æˆ¿å‹"
      - "äº†è§£å…’ç«¥æ”¿ç­–å’Œè²»ç”¨"
      - "ç²å¾—å®¶åº­å¥—é¤æ¨è–¦"
  
  business_traveler:
    name: "å•†å‹™æ—…å®¢" 
    characteristics:
      - "1-2ä½æˆäºº"
      - "é—œæ³¨å·¥ä½œæ•ˆç‡å’Œä¾¿åˆ©æ€§"
      - "éœ€è¦æœƒè­°è¨­æ–½å’Œå¿«é€Ÿæœå‹™"
    goals:
      - "å¿«é€Ÿå®Œæˆé è¨‚"
      - "ç²å¾—å•†å‹™è¨­æ–½ä¿¡æ¯"
      - "å®‰æ’æœƒè­°å’Œäº¤é€š"
  
  romantic_traveler:
    name: "æƒ…ä¾¶æ—…å®¢"
    characteristics:
      - "2ä½æˆäºº"
      - "è¿½æ±‚æµªæ¼«é«”é©—"
      - "é—œæ³¨ç‰¹æ®Šå ´åˆå®‰æ’"
    goals:
      - "å®‰æ’æµªæ¼«é«”é©—"
      - "ç²å¾—ç´€å¿µæ—¥å„ªæƒ "
      - "é è¨‚ç‰¹æ®Šæœå‹™"

# æ ¸å¿ƒå°è©±æµç¨‹è¦ç¯„
conversation_flows:
  booking_flow:
    name: "é è¨‚ä¸»æµç¨‹"
    steps:
      - step: "initial_greeting"
        user_intent: "é–‹å§‹é è¨‚"
        system_response: "æä¾›é è¨‚å¼•å°"
        required_data: []
        
      - step: "date_collection" 
        user_intent: "æä¾›æ—¥æœŸ"
        system_response: "ç¢ºèªæ—¥æœŸä¸¦è©¢å•äººæ•¸"
        required_data: ["checkin_date", "checkout_date"]
        
      - step: "guest_collection"
        user_intent: "æä¾›äººæ•¸"
        system_response: "ç¢ºèªäººæ•¸ä¸¦è©¢å•è©³ç´°ä¿¡æ¯"
        required_data: ["adults_count"]
        optional_data: ["children_count", "children_ages"]
        
      - step: "room_recommendation"
        user_intent: "é¸æ“‡æˆ¿å‹"
        system_response: "æ¨è–¦åˆé©æˆ¿å‹"
        required_data: ["room_preference"]
        
      - step: "package_suggestion"
        user_intent: "è€ƒæ…®å¥—é¤"
        system_response: "æ¨è–¦å€‹æ€§åŒ–å¥—é¤"
        optional_data: ["package_selection"]
        
      - step: "price_calculation"
        user_intent: "ç¢ºèªåƒ¹æ ¼"
        system_response: "æä¾›è©³ç´°è²»ç”¨æ˜ç´°"
        required_data: []
        
      - step: "booking_confirmation"
        user_intent: "å®Œæˆé è¨‚"
        system_response: "ç¢ºèªé è¨‚è©³æƒ…"
        required_data: ["contact_info"]

  inquiry_flow:
    name: "æŸ¥è©¢æµç¨‹"
    steps:
      - step: "price_inquiry"
        user_intent: "è©¢å•åƒ¹æ ¼"
        system_response: "æä¾›åƒ¹æ ¼åƒè€ƒå’Œè¨ˆç®—"
        
      - step: "facility_inquiry"
        user_intent: "è©¢å•è¨­æ–½"
        system_response: "è©³ç´°ä»‹ç´¹è¨­æ–½æœå‹™"
        
      - step: "policy_inquiry"
        user_intent: "è©¢å•æ”¿ç­–"
        system_response: "è§£é‡‹ç›¸é—œæ”¿ç­–"

# åƒ¹æ ¼è¨ˆç®—å¼•æ“è¦ç¯„
pricing_engine:
  base_room_rates:
    standard: 100
    deluxe: 150
    suite: 200
    sea_view: 180
    presidential: 500

  breakfast_options:
    none:
      cost: 0
      description: "ä¸å«æ—©é¤"
    continental:
      adult: 15
      child: 8
      description: "æ­é™¸å¼æ—©é¤"
    buffet:
      adult: 25  
      child: 12
      description: "è‡ªåŠ©æ—©é¤"
    family:
      adult: 20
      child: 6
      description: "å®¶åº­æ—©é¤å¥—é¤"
      conditions: "è‡³å°‘2ä½å¤§äººå’Œ1ä½å…’ç«¥"

  child_policy:
    infant:
      age_range: [0, 2]
      bed_cost: 0
      breakfast_cost: 0
      description: "å¬°å…’(0-2æ­²)å…è²»"
    toddler:
      age_range: [3, 6] 
      bed_cost: 25
      breakfast_cost: 10
      description: "å¹¼å…’(3-6æ­²)å„ªæƒ åƒ¹"
    child:
      age_range: [7, 12]
      bed_cost: 40
      breakfast_cost: 15
      description: "å…’ç«¥(7-12æ­²)æ¨™æº–åƒ¹"
    teen:
      age_range: [13, 17]
      bed_cost: 50
      breakfast_cost: 20
      description: "é’å°‘å¹´(13-17æ­²)æˆäººåƒ¹"

  extra_charges:
    extra_bed: 50
    airport_transfer: 30
    meeting_room: 50

  discounts:
    senior:
      rate: 0.15
      min_age: 65
      description: "å¹´é•·è€…85æŠ˜"
    long_stay:
      tiers:
        - nights: [3, 5]
          rate: 0.05
          description: "ä½3-5æ™š95æŠ˜"
        - nights: [6, null]
          rate: 0.10
          description: "ä½6æ™šä»¥ä¸Š9æŠ˜"
    early_booking:
      tiers:
        - days: [15, 30]
          rate: 0.08
          description: "æå‰15-30å¤©92æŠ˜"
        - days: [31, 90]
          rate: 0.12
          description: "æå‰31-90å¤©88æŠ˜"

  tax_calculation:
    tax_rate: 0.10
    service_charge: 0

# å¥—é¤æ¨è–¦ç³»çµ±
package_system:
  family_fun_package:
    name: "å®¶åº­æ­¡æ¨‚å¥—é¤"
    target_audience: "family_traveler"
    markup_rate: 0.20
    inclusions:
      - "å…’ç«¥å…è²»æ—©é¤(12æ­²ä»¥ä¸‹)"
      - "å…è²»åŠ åºŠ1å¼µ"
      - "éŠæ¨‚å ´é–€ç¥¨2å¼µ"
      - "å®¶åº­é›»å½±å¤œæœå‹™"
    conditions:
      min_adults: 2
      min_children: 1
      max_children: 3
    estimated_savings: 85

  romantic_getaway_package:
    name: "æµªæ¼«æƒ…ä¾¶å¥—é¤"
    target_audience: "romantic_traveler" 
    markup_rate: 0.30
    inclusions:
      - "æˆ¿é–“æµªæ¼«ä½ˆç½®"
      - "ç‡­å…‰æ™šé¤2ä½"
      - "å»¶é²é€€æˆ¿è‡³14:00"
      - "è¿è³“æ°£æ³¡é…’"
    conditions:
      adults: 2
      children: 0
    estimated_savings: 120

  business_excellence_package:
    name: "å•†å‹™å°Šäº«å¥—é¤"
    target_audience: "business_traveler"
    markup_rate: 0.25
    inclusions:
      - "å…è²»æœƒè­°å®¤ä½¿ç”¨2å°æ™‚"
      - "å»¶é²é€€æˆ¿è‡³16:00"
      - "å…è²»æ©Ÿå ´æ¥é€"
      - "è¡Œæ”¿é…’å»Šæ¬Šç›Š"
    estimated_savings: 95

# å°è©±ç®¡ç†è¦ç¯„
conversation_management:
  session_management:
    session_timeout: 1800  # 30åˆ†é˜
    data_persistence: true
    context_retention: true

  intent_recognition:
    booking_intents:
      - "è¨‚æˆ¿"
      - "é è¨‚" 
      - "é ç´„"
      - "book"
      - "reserve"
    
    price_intents:
      - "åƒ¹æ ¼"
      - "åƒ¹éŒ¢"
      - "å¤šå°‘éŒ¢"
      - "cost"
      - "price"
    
    inquiry_intents:
      - "æˆ¿å‹"
      - "è¨­æ–½"
      - "æœå‹™"
      - "æ”¿ç­–"
      - "å–æ¶ˆ"

  response_templates:
    greeting: |
      ğŸ¨ æ­¡è¿å…‰è‡¨ï¼æˆ‘æ˜¯AIé…’åº—åŠ©æ‰‹ï¼Œå¯ä»¥å”åŠ©æ‚¨ï¼š
      â€¢ é è¨‚æˆ¿é–“å’Œè¨ˆç®—è²»ç”¨
      â€¢ æ¨è–¦åˆé©çš„å¥—é¤  
      â€¢ è§£ç­”é…’åº—ç›¸é—œå•é¡Œ
      
      è«‹å•éœ€è¦ä»€éº¼å”åŠ©ï¼Ÿ

    booking_guidance: |
      å¥½çš„ï¼ç‚ºæ‚¨å®‰æ’é è¨‚ã€‚
      
      è«‹æä¾›ï¼š
      ğŸ“… å…¥ä½å’Œé€€æˆ¿æ—¥æœŸ
      ğŸ‘¥ å…¥ä½äººæ•¸ï¼ˆå¹¾ä½å¤§äººã€å¹¾ä½å°å­©ï¼‰
      ğŸ’° å¤§è‡´çš„é ç®—ç¯„åœ
      
      ä¾‹å¦‚ï¼š11/15-11/17ï¼Œ2å¤§1å°ï¼Œé ç®—$500/æ™š

    price_breakdown: |
      ğŸ’° è²»ç”¨æ˜ç´°ï¼š
      
      ğŸ“Š åŸºç¤è²»ç”¨ï¼š
      â€¢ æˆ¿è²»ï¼š${room_price}
      â€¢ æ—©é¤ï¼š${breakfast_cost}
      â€¢ åŠ åºŠï¼š${extra_bed_cost}
      â€¢ å…’ç«¥è²»ç”¨ï¼š${children_cost}
      
      ğŸ æŠ˜æ‰£å„ªæƒ ï¼š
      â€¢ ${discount_description}ï¼š-${discount_amount}
      
      ğŸ’ æœ€çµ‚åƒ¹æ ¼ï¼š
      â€¢ å°è¨ˆï¼š${subtotal}
      â€¢ ç¨…è²»ï¼š${tax_amount}
      â€¢ ç¸½è¨ˆï¼š${total_price}

# æŠ€è¡“å¯¦ç¾è¦ç¯„
technical_specifications:
  architecture:
    pattern: "modular_microservices"
    components:
      - "conversation_manager"
      - "pricing_engine" 
      - "recommendation_engine"
      - "session_manager"
    
  data_models:
    booking_request:
      fields:
        - "session_id"
        - "checkin_date"
        - "checkout_date" 
        - "adults_count"
        - "children_count"
        - "children_ages"
        - "room_type"
        - "breakfast_option"
        - "extra_beds"
        - "special_requests"
    
    price_breakdown:
      fields:
        - "base_room_rate"
        - "breakfast_cost"
        - "extra_charges"
        - "discounts"
        - "taxes"
        - "final_price"

  api_endpoints:
    required:
      - "POST /api/ai/chat - ä¸»è¦å°è©±æ¥å£"
      - "POST /api/ai/calculate - åƒ¹æ ¼è¨ˆç®—æ¥å£"
      - "GET /api/ai/status - æœå‹™ç‹€æ…‹æª¢æŸ¥"
      - "GET /health - å¥åº·æª¢æŸ¥"

  performance_requirements:
    response_time: "< 2ç§’"
    availability: "99.5%"
    concurrent_users: "50+"
    error_rate: "< 1%"

# è³ªé‡ä¿è­‰æ¨™æº–
quality_assurance:
  functional_testing:
    test_cases:
      - "å®Œæ•´é è¨‚æµç¨‹æ¸¬è©¦"
      - "åƒ¹æ ¼è¨ˆç®—æº–ç¢ºæ€§æ¸¬è©¦"
      - "å¥—é¤æ¨è–¦ç›¸é—œæ€§æ¸¬è©¦"
      - "éŒ¯èª¤è™•ç†æ¸¬è©¦"
      - "é‚Šç•Œæƒ…æ³æ¸¬è©¦"
  
  performance_testing:
    scenarios:
      - "é«˜ä½µç™¼å°è©±æ¸¬è©¦"
      - "é•·æ™‚é–“æœƒè©±æ¸¬è©¦"
      - "å¤§é‡è¨ˆç®—è«‹æ±‚æ¸¬è©¦"
  
  user_experience:
    metrics:
      - "å°è©±å®Œæˆç‡ > 80%"
      - "ç”¨æˆ¶æ»¿æ„åº¦ > 4/5"
      - "éŒ¯èª¤æ¢å¾©ç‡ > 90%"

# éƒ¨ç½²å’Œç›£æ§
deployment_monitoring:
  environment: "production"
  monitoring:
    - "æœå‹™å¥åº·ç‹€æ…‹"
    - "APIéŸ¿æ‡‰æ™‚é–“"
    - "éŒ¯èª¤ç‡ç›£æ§"
    - "ç”¨æˆ¶è¡Œç‚ºåˆ†æ"
  
  logging:
    level: "info"
    fields:
      - "session_id"
      - "user_message"
      - "system_response"
      - "processing_time"
      - "error_details"

# ç‰ˆæœ¬æ§åˆ¶å’Œæ›´æ–°ç­–ç•¥
version_control:
  current_version: "3.0.0"
  update_strategy: "gradual_rollout"
  backward_compatibility: true

# æˆåŠŸæŒ‡æ¨™
success_metrics:
  business_metrics:
    - "é è¨‚è½‰åŒ–ç‡æå‡"
    - "å¥—é¤éŠ·å”®æ¯”ä¾‹"
    - "å®¢æˆ¶æ»¿æ„åº¦è©•åˆ†"
    - "äººå·¥å®¢æœè² æ“”æ¸›å°‘"
  
  technical_metrics:
    - "ç³»çµ±éŸ¿æ‡‰æ™‚é–“"
    - "æœå‹™å¯ç”¨æ€§"
    - "éŒ¯èª¤è™•ç†æ•ˆç‡"
    - "æœƒè©±æˆåŠŸç‡"
